<!DOCTYPE html>
<html lang="en" ng-app="qrApp">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AIO-QR</title>
 <!-- Link to the favicon (logo.png) -->
  <link rel="icon" href="./logo.png" type="image/png">

  <!-- Optionally, add different sizes for compatibility -->
  <link rel="icon" href="./logo.png" type="image/png" sizes="32x32">
  <link rel="icon" href="./logo.png" type="image/png" sizes="16x16">

  <!-- TailwindCSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <!-- QR Code Styling -->
  <script src="https://cdn.jsdelivr.net/npm/qr-code-styling@1.5.0/lib/qr-code-styling.min.js"></script>
  <!-- AngularJS -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode-styling@1.5.0/lib/umd/index.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/qrcode-styling@1.5.0/lib/umd/index.min.js"></script>
    
  <style>
    body {
      font-family: monospace;
      background: black;
      color: orange;
    }

    .spinner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black;
      z-index: 1000;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .spinner div {
      font-size: 80px;
      color: orange;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }

    .intro-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black;
      z-index: 999;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: rgba(255, 255, 255, 0.1);
      padding: 20px;
      border-radius: 15px;
      text-align: center;
      max-width: 400px;
    }

    .modal-content h1 {
      color: orange;
      font-weight: bold;
      margin-bottom: 20px;
      font-size:40px;
    }

    .modal-content input {
      margin-bottom: 20px;
      padding: 10px;
      border: 2px solid orange;
      border-radius: 5px;
      width: 100%;
      background: black;
      color: orange;
    }

    .modal-content input::placeholder {
      color: orange;
    }

    .modal-content button {
      background: orange;
      color: black;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 5px;
    }

    .main-screen {
      background: black;
      color: orange;
      padding: 20px;
    }

    .btn {
      background: orange;
      border: 1px solid orange;
      color: black;
      transition: all 0.3s ease;
    }

    .btn:hover {
      background: black;
      color: orange;
      border: 1px solid orange;
    }

   #qrPreview canvas {
    display: block;
    margin: 20px auto;
    padding: 50px;
    border: 3px solid orange; /* Adjust thickness and color */
    border-radius: 20px;
    background-color: black
}
.label {
  color: orange;
  text-align:left;
  padding:10px;
}
.labels {
  color: orange;
  padding:10px;
}
.greetingSection{
font-family:Arial;
}
  </style>
</head>
<body ng-controller="QrController">
  <!-- Spinner -->
  <div class="spinner">
    <div>
      <i class="fa-solid fa-spinner"></i>
    </div>
  </div>

  <!-- Intro Modal -->
  <div class="intro-modal">
    <div class="modal-content">
      <h1>AIO-QR</h1>
      <b>ALL-IN-ONE QR GENERATOR</b>
      <div style = "width:100%;justify-content:center;display:flex;">
    
      <img src = "./qranimation.gif" style = "height:150px;width:150px;align-items:center;" align = "center">
      
      </div>
      <b align = "center" class = "labels"> Welcome to AIO-QR fill the below data to enter into the website.**</b>
      <label for="userName" class = "label">Enter your name:</label>
      <input type="text" id="userName" placeholder="Enter your name" />
      <button id="getStarted">
        Get Started
        <i class="fa-solid fa-arrow-right"></i>
      </button>
    </div>
  </div>

 <!-- Main Screen -->
  <div id="greetingSection">
        <h1 id="greetingText"></h1>
    </div>
<div class="main-screen hidden">
<div class = "name-preview"></div></br></br></br>
  <div class="container py-5">
    <!-- Menu Section -->
   

    <div style = "width:100%;justify-content:center;display:flex;">
   </br></br> <h2 
    class="mb-4" 
    style="display: inline-block; padding: 20px; background-color:orange; color:black; font-size: 24px; clip-path: polygon(10% 0, 90% 0, 100% 50%, 90% 100%, 10% 100%, 0 50%); width:70%; justify-content:center;display:flex;font-family:monospace;" >
    AIO-QR
</h2></div></br>
 <div style = "width:100%;justify-content:center;display:flex;">
<h4 align = "center">ALL-IN-ONE QR GENERATOR</h4>
</div>
    <div class="menu-section text-center"></br>
     <section id = "selection">
    <h3 align = "center">--: Select your purpose :--</h3>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</br>
   <div class="row g-3">
  <!-- Personal Bio Button -->
  <div class="col-12 col-md-6 col-lg-3">
    <button class="btn btn-outline-primary w-100" ng-click="selectPurpose('bio')" aria-label="Personal Bio">
      <i class="fa-solid fa-user"></i> Personal Bio
    </button>
  </div>
  <!-- WhatsApp Contact Button -->
  <div class="col-12 col-md-6 col-lg-3">
    <button class="btn btn-outline-success w-100" ng-click="selectPurpose('whatsapp')" aria-label="WhatsApp Contact">
      <i class="fa-brands fa-whatsapp"></i> WhatsApp Contact
    </button>
  </div>
  <!-- Call Button -->
  <div class="col-12 col-md-6 col-lg-3">
    <button class="btn btn-outline-warning w-100" ng-click="selectPurpose('mobile')" aria-label="Call">
      <i class="fa-solid fa-phone"></i> Call
    </button>
  </div>
  <!-- Share Social Media Button -->
  <div class="col-12 col-md-6 col-lg-3">
    <button class="btn btn-primary w-100" ng-click="selectPurpose('social')" aria-label="Share Social Media Link">
      <i class="fa-solid fa-share-nodes"></i> Share Social Media Link
    </button>
  </div>
  <!-- Instagram Button -->
  <div class="col-12 col-md-6 col-lg-3">
    <button class="btn btn-outline-danger w-100" ng-click="selectPurpose('insta')" aria-label="Instagram">
      <i class="fa-brands fa-instagram"></i> Instagram
    </button>
  </div>
  <!-- Facebook Button -->
  <div class="col-12 col-md-6 col-lg-3">
    <button class="btn btn-outline-primary w-100" ng-click="selectPurpose('facebook')" aria-label="Facebook">
      <i class="fa-brands fa-facebook"></i> Facebook
    </button>
  </div>
  <!-- Payment Scanner Button -->
  <div class="col-12 col-md-6 col-lg-3">
    <button class="btn btn-outline-dark w-100" ng-click="selectPurpose('payment')" aria-label="Payment Scanner">
      <i class="fa-solid fa-qrcode"></i> Payment Scanner
    </button>
  </div>
  <!-- Email Contact Button -->
  <div class="col-12 col-md-6 col-lg-3">
    <button class="btn btn-outline-info w-100" ng-click="selectPurpose('email')" aria-label="Email Contact">
      <i class="fa-solid fa-envelope"></i> Email Contact
    </button>
  </div>

<div class="col-12 col-md-6 col-lg-3">
    <a class="btn btn-outline-info btn-lng w-100" aria-label="QR FOR GAMERS" style="background-color: gold;" href="./gamers.html">
  <i class="fa-solid fa-envelope"></i> QR CODE FOR GAMERS
</a>

  </div>
  <style>
  .btn-long {
    width: 100%;
}

  </style>
</div>
    </div>
  </div>
</div>
</section>
<!-- Dynamic Form -->
<div class="mt-5" ng-if="selectedPurpose">
  <h3 class="text-center mb-4 text-orange">Enter Details for {{ selectedPurpose | capitalize }}</h3>
   <div class="mb-3" ng-if="selectedPurpose === 'bio'">
  <form>
    <!-- Personal Bio Section -->
    <fieldset class="border border-orange p-4">
      <legend class="text-orange">
        <i class="fas fa-user text-orange"></i> Personal Bio
      </legend>
      <div class="mb-3">
        <label for="name" class="form-label text-white">
          <i class="fas fa-user text-orange"></i> Your Name
        </label>
        <input type="text" id="name" ng-model="formData.name" class="form-control form-control-lg" style="width: 80%; margin: 0 auto;" placeholder="Enter your name">

        <label for="bio" class="form-label mt-3 text-white">
          <i class="fas fa-align-left text-orange"></i> Short Bio
        </label>
        <textarea id="bio" ng-model="formData.bio" class="form-control form-control-lg" style="width: 80%; margin: 0 auto;" placeholder="Enter your bio"></textarea>
      </div>
    </fieldset>
</div>
    <!-- Phone Number Section -->
    <fieldset class="border border-orange p-4" ng-if="selectedPurpose === 'whatsapp' || selectedPurpose === 'mobile'">
      <legend class="text-orange">
        <i class="fas fa-phone-alt text-orange"></i> Phone Number
      </legend>
      <div class="mb-3">
        <label for="phone" class="form-label text-white">
          <i class="fas fa-phone-alt text-orange"></i> Phone Number
        </label>
        <input type="text" id="phone" ng-model="formData.phone" class="form-control form-control-lg" style="width: 80%; margin: 0 auto;" placeholder="Enter phone number">
      </div>
    </fieldset>

    <!-- Payment Info Section -->
    <fieldset class="border border-orange p-4" ng-if="selectedPurpose === 'payment'">
      <legend class="text-orange">
        <i class="fas fa-credit-card text-orange"></i> Payment Information
      </legend>
      <div class="mb-3">
        <label for="paymentName" class="form-label text-white">
          <i class="fas fa-user text-orange"></i> Name
        </label>
        <input type="text" id="paymentName" class="form-control form-control-lg" ng-model="formData.name" style="width: 80%; margin: 0 auto;" placeholder="Enter your name">

        <label for="paymentNumber" class="form-label mt-3 text-white">
          <i class="fas fa-phone-alt text-orange"></i> Linked Phone Number
        </label>
        <input type="text" id="paymentNumber" class="form-control form-control-lg" ng-model="formData.phone" style="width: 80%; margin: 0 auto;" placeholder="Enter phone number">
      </div>
    </fieldset>

    <!-- Social Media Link Section -->
    <fieldset class="border border-orange p-4" ng-if="selectedPurpose === 'social' || selectedPurpose === 'insta' || selectedPurpose === 'facebook'">
      <legend class="text-orange">
        <i class="fab fa-facebook-square text-orange"></i> Social Media Link
      </legend>
      <div class="mb-3">
        <label for="link" class="form-label text-white">
          <i class="fas fa-link text-orange"></i> Profile Link
        </label>
        <input type="url" id="link" ng-model="formData.link" class="form-control form-control-lg" style="width: 80%; margin: 0 auto;" placeholder="Enter profile link">
      </div>
    </fieldset>

    <!-- Email Section -->
    <fieldset class="border border-orange p-4" ng-if="selectedPurpose === 'email'">
      <legend class="text-orange">
        <i class="fas fa-envelope text-orange"></i> Email Information
      </legend>
      <div class="mb-3">
        <label for="emailName" class="form-label text-white">
          <i class="fas fa-user text-orange"></i> Your Name
        </label>
        <input type="text" id="emailName" class="form-control form-control-lg" ng-model="formData.name" style="width: 80%; margin: 0 auto;" placeholder="Enter your name">

        <label for="emailAddress" class="form-label mt-3 text-white">
          <i class="fas fa-envelope text-orange"></i> Email
        </label>
        <input type="email" id="emailAddress" class="form-control form-control-lg" ng-model="formData.email" style="width: 80%; margin: 0 auto;" placeholder="Enter your email">
      </div>
    </fieldset>

    <!-- Generate QR Code Button -->
    <div class="text-center mt-4">
      <button type="button" class="btn btn-lg" ng-click="generateQRCode()" style="background-color: orange; color: black; border-color: orange;">
        <i class="fas fa-qrcode"></i> Generate QR Code
      </button>
    </div>
  </form>
</div>

<!-- Add the CSS styles to match the design -->
<style>
  body {
    background-color: black;
    color: white;
  }

  .form-label {
    color: white;
  }

  fieldset {
    border: 2px solid orange;
    padding: 15px;
    margin-bottom: 20px;
  }

  legend {
    font-size: 18px;
    color: orange;
    font-weight: bold;
  }

  .btn {
    background-color: orange;
    color: black;
    border-color: orange;
  }

  .form-control {
    width: 80%;
    margin: 0 auto;
    border: 2px solid orange;
    background-color: black;
    color: white;
  }

  .form-control-lg {
    padding: 10px;
    font-size: 16px;
  }

  .text-orange {
    color: orange;
  }

  .form-control::placeholder {
    color: #ffa500; /* Orange placeholder text */
    opacity: 1; /* Ensure opacity is visible */
  }

  .fa {
    margin-right: 8px;
  }

  .text-center {
    text-align: center;
  }
</style>

<!-- FontAwesome CDN -->
<script src="https://kit.fontawesome.com/a076d05399.js"></script>
<section id = "generation">
<!-- QR Code Preview Section -->
<div id="qrPreview" class="text-center mt-5">
  
    
    <!-- Download Button for QR Code -->
    <div class="mt-3">
        <button id="downloadQR" class="btn btn-success btn-lg" onclick="download();">Download QR</button>
    </div>
    <script>
    $('#downloadQR').hide();
    </script>
</div>

</section>
<script>
  // Vanilla JS function to download QR Code image
  document.getElementById('downloadQR').addEventListener('click', function() {
    // Get the QR code image element
    var qrCodeElement = document.getElementById('qrCode');
    
    // Check if QR code image exists
    var img = qrCodeElement.querySelector('img');
    if (!img) {
      alert('QR code not generated yet!');
      return;
    }

    // Create a canvas to save the image
    var canvas = document.createElement('canvas');
    var context = canvas.getContext('2d');
    canvas.width = img.width;
    canvas.height = img.height;
    context.drawImage(img, 0, 0);

    // Create a download link
    var link = document.createElement('a');
    link.href = canvas.toDataURL('image/png');
    link.download = 'QR_Code.png'; // Name the downloaded file
    link.click();
  });
  
document.getElementById('downloadQR').addEventListener('click', function() {
  const qrCode = document.getElementById('qrPreview').querySelector('canvas');
  if (qrCode) {
    const link = document.createElement('a');
    link.href = qrCode.toDataURL('image/png');
    link.download = 'QR_Code.png';
    link.click();
  } else {
    alert('Generate a QR code first!');
  }
});

  
</script>
  <!-- AngularJS Controller -->
  <script>
    angular.module('qrApp', [])
      .filter('capitalize', function () {
        return function (input) {
          return input ? input.charAt(0).toUpperCase() + input.slice(1).toLowerCase() : '';
        };
      })
      .controller('QrController', ['$scope', function ($scope) {
        $scope.selectedPurpose = null;
        $scope.formData = {};

        const purposes = {
           bio: (data) => `Name: ${data.name}\nBio: ${data.bio}`,
          whatsapp: (data) => `https://wa.me/${data.phone}`,
          mobile: (data) => `tel:${data.phone}`,
          social: (data) => data.link,
          insta: (data) => data.link,
          facebook: (data) => data.link,
          payment: (data) => `upi://pay?pa=${data.phone}&pn=${data.name}`,
          email: (data) => `mailto:${data.email}`
        };

        $scope.selectPurpose = (purpose) => {
          $scope.selectedPurpose = purpose;
        };

        $scope.generateQRCode = () => {
          const data = purposes[$scope.selectedPurpose]?.($scope.formData);
           const iconBase64 = "AIO-QR";

          if (data) {
           
    new QRCodeStyling({
        width: 300, // QR code width
        height: 300, // QR code height
        data: data, // The data or URL to encode
        dotsOptions: {
            color: "orange", // Foreground dots color
            type: "rounded", // Shape of the dots
        },
        backgroundOptions: {
            color: "black", // Background color
        },
        cornersSquareOptions: {
            color: "orange", // Corner squares color
            type: "rounded", // Shape of the corner squares
        },
        cornersDotOptions: {
            color: "orange", // Corner dots color
            type: "dot", // Shape of the corner dots
        },
      
    }).append(document.getElementById("qrPreview"));
  setTimeout(() => {
            // Get the canvas from the QR code
            const canvas = document.querySelector("#qrPreview canvas");

            // Get the context of the canvas
            const ctx = canvas.getContext("2d");

            // Set text properties
            ctx.font = "bold 30px 'Courier New', monospace";
; // Set font size
            ctx.fillStyle = "orange"; // Set text color to orange
            ctx.textAlign = "center"; // Center the text horizontally
            ctx.textBaseline = "middle"; // Center the text vertically

            // Set background properties for the text
            const text = "AIO-QR";
            const padding = 10; // Padding around the text
            const textWidth = ctx.measureText(text).width; // Get width of the text

            // Draw a background rectangle (light gray)
            ctx.fillStyle = "black"; // Set background color for text
            ctx.fillRect((canvas.width / 2) - (textWidth / 2) - padding, 
                         (canvas.height / 2) - 20 - padding, 
                         textWidth + padding * 2.5, 
                         50); // Adjust height as per text size

            // Draw the text on top of the background
            ctx.fillStyle = "orange"; // Set text color again after background
            ctx.fillText(text, canvas.width / 2, canvas.height / 2);
        }, 100); // Delay to ensure QR code is generated first
        alert('QR code generated sucesfully.');
} else {
            alert('Please fill in the required fields.');
          }
        };
      }]);
$('#downloadQR').show();
  $(document).ready(() => {
  // Show the spinner and fade out after 2 seconds
  setTimeout(() => {
    $('.spinner').fadeOut(500, () => {
      $('.intro-modal').fadeIn(500);
    });
  }, 2000); // 2-second delay before fading out the spinner

  // Handle the 'Get Started' button click
  $('#getStarted').click(() => {
    const name = $('#userName').val().trim();
    if (name) {
      $('.intro-modal').fadeOut(500, () => {
        $('.main-screen').fadeIn(500); // Fade in the main page
      });
      greet(name)
    } else {
      alert('Please enter your name to proceed.');
    }
  });
});

  </script>
  <script>

// Typewriter effect function
function greet(name) {
    let i = 0;
    let speed = 100;  // Speed of typing effect
    const greetingText = document.getElementById("greetingText");

    // Clear the text before starting the typing effect
    greetingText.innerHTML = "Welcome to AIO-QR Mr. ";

    function typeWriter() {
        if (i < name.length) {
            greetingText.innerHTML += name.charAt(i);
            i++;
            setTimeout(typeWriter, speed);
        }
    }

    typeWriter();
}


</script>
<style>
#greetingSection {
    height: 100px;
    text-align: center;
    padding-top: 100px;
    background-color:black;
      color:orange;
      font-size: 35px;
       font-family: monospace;
}

#typing {
    
    font-family: monospace;
    display: inline;
    border-right: 2px solid black;
    color:orange
    
}
</style>
 <style>
    .bottom-navbar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: black;
      border-radius: 2px;
    }
    .bottom-navbar .nav-link {
      color: orange;
      text-align: center;
    }
    .bottom-navbar .nav-link:hover {
      color: #ffcc00;
    }
  </style>
  </br></br></br></br>
  <div style = "justify-content:center;display:flex;">
  <div class="d-flex align-items-center">
  <img src="./gl.png" style="height: 50px; width: 50px; border-radius: 50%;" alt="Google Lens">
  <span class="ms-2">Scan through "Google Lens"</span>
</div>
</div>
</br></br>  </br></br>
<nav class="navbar navbar-expand-lg navbar-dark bottom-navbar">
    <div class="container-fluid justify-content-around">
      <a class="nav-link" href="#selection"><i class="fas fa-list"></i> Selection</a>
      <a class="nav-link" href="#generation"><i class="fas fa-cogs"></i> Generation</a>
      <a class="nav-link" href="./about.html"><i class="fas fa-info-circle"></i> About</a>
    </div>
  </nav>

</body>
</html>
